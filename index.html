<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Role Suitability Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            text-align: center;
            color: #333;
        }
        p {
            font-size: 16px;
            color: #666;
        }
        .question {
            margin-top: 20px;
            font-size: 18px;
        }
        .answers {
            display: flex;
            flex-direction: column;
            margin-top: 10px;
        }
        .answers label {
            background-color: #f2f2f2;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            cursor: pointer;
        }
        .answers label:hover {
            background-color: #e0e0e0;
        }
        .btn, .next-btn {
            margin-top: 30px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
        }
        .btn:hover, .next-btn:hover {
            background-color: #0056b3;
        }
        .btn[disabled] {
            background-color: #cccccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

<!-- Introduction Section -->
<div class="container" id="introSection">
    <h1>Sales Role Suitability Test</h1>
    <p>Welcome to the Sales Role Suitability Test! This quick test will help you determine which sales role best fits your skills and preferences. Answer the questions thoughtfully, and at the end, we’ll suggest a role that matches your profile.</p>
    
    <!-- Start Test Button -->
    <button class="next-btn" onclick="startTest()">Start Test</button>
</div>

<!-- Test Form Section - Hidden initially -->
<div class="container" id="testForm" style="display:none;">
    <h1>Sales Role Suitability Test</h1>
    <form id="salesTestForm">
        <div id="questionContainer">
            <!-- Questions will be dynamically inserted here -->
        </div>
        <button class="btn" type="button" id="submitTestBtn" style="display: none;" onclick="submitTest()">Submit Test</button>
    </form>
</div>

<script>
    // List of questions and answer choices
    const questions = [
        {
            question: "How do you approach building relationships with clients or partners?",
            options: ["A) I focus on creating long-term, strategic partnerships.", 
                      "B) I enjoy building quick rapport to close deals.", 
                      "C) I prioritize understanding client needs and helping them succeed."]
        },
        {
            question: "A prospect says they’re happy with their current vendor. How do you respond?",
            options: ["A) Highlight the strategic advantages of our solution.", 
                      "B) Offer a demo to showcase our capabilities.", 
                      "C) Acknowledge their satisfaction and ask questions to uncover unmet needs."]
        },
        {
            question: "How do you manage competing priorities between multiple clients or tasks?",
            options: ["A) Prioritize based on revenue potential.", 
                      "B) Balance time between new business and renewals.", 
                      "C) Ensure all clients feel equally valued."]
        }
        // Add more questions here...
    ];

    // Roles mapping to questions
    const rolesMapping = {
        "Hybrid Account Manager (HAM)": [3],
        "Enterprise Account Manager (EAM)": [1],
        "New Business Account Manager (NBAM)": [2],
        "Customer Success Manager (CSM)": [2]
        // Add the full rolesMapping logic here
    };

    let currentQuestion = 0;
    let answers = [];

    // Function to start the test
    function startTest() {
        document.getElementById("introSection").style.display = "none";
        document.getElementById("testForm").style.display = "block";
        showQuestion(currentQuestion);
    }

    // Function to show a question
    function showQuestion(index) {
        const question = questions[index];
        let questionHTML = `
            <div class="question">
                <p>${question.question}</p>
                <div class="answers">
                    ${question.options.map((option, i) => `
                        <label>
                            <input type="radio" name="q${index}" value="${String.fromCharCode(65 + i)}" required>
                            ${option}
                        </label>
                    `).join('')}
                </div>
                <button class="next-btn" onclick="nextQuestion()">Next</button>
            </div>
        `;

        document.getElementById("questionContainer").innerHTML = questionHTML;

        if (index === questions.length - 1) {
            document.getElementById("submitTestBtn").style.display = "block";
        } else {
            document.getElementById("submitTestBtn").style.display = "none";
        }
    }

    // Function to handle the next question logic
    function nextQuestion() {
        const form = document.getElementById("salesTestForm");
        const formData = new FormData(form);
        const selectedAnswer = formData.get(`q${currentQuestion}`);

        if (!selectedAnswer) {
            alert("Please answer the question before proceeding.");
            return;
        }

        answers.push(selectedAnswer);
        currentQuestion++;

        if (currentQuestion < questions.length) {
            showQuestion(currentQuestion);
        }
    }

    // Function to submit the test
    function submitTest() {
        const roleScores = {};
        for (const role in rolesMapping) {
            roleScores[role] = 0;
        }

        answers.forEach((answer, index) => {
            const questionNum = index + 1;
            for (const role in rolesMapping) {
                if (rolesMapping[role].includes(questionNum)) {
                    roleScores[role] += 1;
                }
            }
        });

        const sortedRoles = Object.entries(roleScores).sort((a, b) => b[1] - a[1]);
        const bestFit = sortedRoles[0][0];

        let resultHTML = `<h2>Test Results</h2>`;
        sortedRoles.forEach(([role, score]) => {
            resultHTML += `<p>${role}: ${score} points</p>`;
        });
        resultHTML += `<h3>The best-fit role for you is: ${bestFit}</h3>`;
        
        document.getElementById("testForm").innerHTML = resultHTML;
    }
</script>

</body>
</html>
